# ポーカーゲーム 要件定義書

## 1. プロジェクト概要

### 1.1 目的
CLI（コマンドライン）上で動作するポーカーゲームを開発する。

### 1.2 ゲーム種類
テキサスホールデム（No-Limit）

## 2. プレイヤー構成

### 2.1 プレイヤー数
- 総プレイヤー数：4名
- 人間プレイヤー：1名（ユーザー）
- AIプレイヤー：3名（ランダム行動）

### 2.2 プレイヤー識別
- Player 1：人間プレイヤー（ユーザー）
- Player 2：AIプレイヤー（CPU1）
- Player 3：AIプレイヤー（CPU2）  
- Player 4：AIプレイヤー（CPU3）

## 3. ゲームルール

### 3.1 基本ルール
- テキサスホールデムのルールに従う
- 各プレイヤーに2枚のホールカード（手札）を配布
- コミュニティカード5枚（フロップ3枚、ターン1枚、リバー1枚）
- 最高の5枚のカードでハンドを作成

### 3.2 ハンドランキング（強い順）
1. ロイヤルフラッシュ
2. ストレートフラッシュ
3. フォーカード
4. フルハウス
5. フラッシュ
6. ストレート
7. スリーカード
8. ツーペア
9. ワンペア
10. ハイカード

## 4. ゲームフロー

### 4.1 ゲーム開始
1. 各プレイヤーに初期チップを配布（例：2000チップ）
2. ディーラーボタンの位置を決定
3. ブラインド設定（スモールブラインド：10、ビッグブラインド：20）

### 4.2 ハンドの流れ
1. **プリフロップ**
   - 各プレイヤーに2枚のホールカードを配布
   - スモールブラインド、ビッグブラインドを設定
   - ベッティングラウンド1

2. **フロップ**
   - コミュニティカード3枚を公開
   - ベッティングラウンド2

3. **ターン**
   - コミュニティカード1枚を追加公開
   - ベッティングラウンド3

4. **リバー**
   - コミュニティカード1枚を追加公開
   - ベッティングラウンド4

5. **ショーダウン**
   - 残ったプレイヤーのハンドを比較
   - 勝者にポットを配布

## 5. プレイヤーアクション

### 5.1 人間プレイヤーのアクション
- **フォールド**：ハンドを放棄
- **チェック**：ベットなしでパス（ベットがない場合のみ）
- **コール**：現在のベット額に合わせる
- **レイズ**：ベット額を上げる
- **オールイン**：全チップをベット

### 5.2 AIプレイヤーのアクション
- ランダムに上記アクションから選択
- 確率重み付け：
  - フォールド：30%
  - チェック/コール：50%
  - レイズ：15%
  - オールイン：5%

## 6. チップシステム

### 6.1 初期設定
- 各プレイヤー初期チップ：2000
- スモールブラインド：10
- ビッグブラインド：20

### 6.2 ベット制限
- ミニマムベット：ビッグブラインド額
- マキシマムベット：プレイヤーの全チップ（No-Limit）

## 7. ゲーム終了条件

### 7.1 ハンド終了
- 1人を除く全プレイヤーがフォールド
- ショーダウンでハンド比較完了

### 7.2 ゲーム終了
- プレイヤーのチップが0になった場合（バストアウト）
- ユーザーが終了を選択した場合

## 8. 技術仕様

### 8.1 開発環境
- 言語：Python 3.8+
- パッケージ管理：uv
- データ永続化：JSON形式

### 8.2 必要なクラス設計
- `Card`：カードクラス
- `Deck`：デッキクラス
- `Player`：プレイヤー抽象クラス
- `HumanPlayer`：人間プレイヤークラス
- `AIPlayer`：AIプレイヤークラス
- `Game`：ゲーム管理クラス
- `HandEvaluator`：ハンド評価クラス

### 8.3 UI要件
- CLIベースのインターフェース
- 現在の状況を分かりやすく表示
- プレイヤーの選択肢を明確に提示
- ゲーム履歴の保存・読み込み機能

## 9. 表示要件

### 9.1 ゲーム画面表示項目
- 現在のポット額
- 各プレイヤーのチップ数
- コミュニティカード
- 自分のホールカード
- 現在のベット状況
- プレイヤーのアクション履歴

### 9.2 入力インターフェース
- 数字キーでアクション選択
- ベット額の入力
- ゲーム継続/終了の選択

## 10. 拡張機能（将来的な実装予定）

- 統計情報の表示
- 難易度調整（AIの行動パターン変更）
- マルチテーブル対応
- トーナメント形式 